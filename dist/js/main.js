/*! jimz.au-aboutme 2025-07-25 */
!function(r){"use strict";function l(e,t){return Math.floor(Math.random()*(parseInt(t)-parseInt(e)+1))+parseInt(e)}setTimeout(function(){r("#intro h1").fitText(1,{minFontSize:"42px",maxFontSize:"84px"})},100),r(".skill-bars li .progress span").each(function(){var e,t=r(this),a=r.trim(t.text());-1<a.indexOf("year")&&/year[0-9]{4}/.test(a)&&(e=(new Date).getFullYear(),t.text(e-a.substring(4)+" years"))});var e=r("#stats"),t=r(".stat-count"),a=(t.each(function(){var e,t,a,n=r(this),i=r.trim(n.text()),s=(new Date).getMilliseconds(),o=1;""===i?n.text(l(o,s)):-1<i.indexOf("year")?(e=(new Date).getFullYear(),-(t=1)<i.indexOf("*")&&(a=i.indexOf("*"),t=i.substring(a+1,a+2)),n.text((e-i.substring(4,8))*t)):-1<i.indexOf("-")&&(0<(a=i.indexOf("-"))&&(o=i.substring(0,a)),a<i.length-1&&(s=i.substring(a+1)),n.text(l(o,s)))}),e.waypoint({handler:function(e){"down"===e&&t.each(function(){var t=r(this);r({Counter:0}).animate({Counter:t.text()},{duration:4e3,easing:"swing",step:function(e){t.text(Math.ceil(e))}})}),this.destroy()},offset:"74%"}),r("#folio-wrapper")),e=(a.imagesLoaded(function(){a.masonry({itemSelector:".folio-item",resize:!0})}),r(".smoothscroll").on("click",function(e){e.preventDefault();var t=this.hash,e=r(t);r("html, body").stop().animate({scrollTop:e.offset().top},800,"swing",function(){window.location.hash=t})}),r("section")),n=r("#nav-wrap a"),i=e.last().offset().top;function s(e,t){var a=e.attr("href"),t=void 0!==t?t:"desktop",n=e.find("img"),i=("desktop"===t?e.removeAttr("data-mobile"):e.attr("data-mobile",""),e.siblings("a.site-preview-toggle").toggleClass("disabled"),n.hide(),r("<i class='fa fa-spin fa-spinner'></i>").insertBefore(n),null===localStorage.getItem("cacheAt")?null:localStorage.getItem("cacheAt")),s=(new Date).getTime(),o=a+"-"+t;3<(s-i)/36e5&&localStorage.clear(),i&&null!==localStorage.getItem(o)?(s=localStorage.getItem(o),n.attr("src","data:image/jpeg;base64,"+s).show(),e.find("i.fa-spinner").remove(),e.siblings("a.site-preview-toggle").toggleClass("disabled")):r.ajax({type:"GET",url:"https://www.googleapis.com/pagespeedonline/v5/runPagespeed",data:{url:a,screenshot:!0,strategy:t}}).done(function(e){var t,e=e.lighthouseResult.audits["final-screenshot"].details.data;n.attr("src",e).show(),t=(new Date).getTime(),localStorage.setItem("cacheAt",t),localStorage.setItem(o,e)}).fail(function(e){n.attr("src","images/sample-image.jpg").show()}).always(function(){e.find("i.fa-spinner").remove(),e.siblings("a.site-preview-toggle").toggleClass("disabled")})}e.waypoint({handler:function(e){i!==r(this.group.last().element).offset().top&&(i=r(this.group.last().element).offset().top,this.context.refresh());var t=r("section#"+this.element.id),e=("up"===e&&(t=t.prev()),r('#nav-wrap a[href="#'+t.attr("id")+'"]'));n.parent().removeClass("current"),e.parent().addClass("current")},offset:"100%"}),r("input, textarea, select").placeholder(),r("#contactForm").validate({submitHandler:function(e){var t=r("#submit-loader");r.ajax({type:"POST",url:"inc/sendEmail.php",data:r(e).serialize(),beforeSend:function(){t.fadeIn()},success:function(e){"OK"===e?(t.fadeOut(),r("#message-warning").hide(),r("#contactForm").fadeOut(),r("#message-success").fadeIn()):(t.fadeOut(),r("#message-warning").html(e),r("#message-warning").fadeIn())},error:function(){t.fadeOut(),r("#message-warning").html("Something went wrong. Please try again."),r("#message-warning").fadeIn()}})}}),r.fn.sitePreview=function(){var e=r("#portfolio"),t=this;e.waypoint({handler:function(e){"down"===e&&t.each(function(){var e=r(this),t=e.find("img").attr("alt");e.find(".site-preview-label").text(t),s(e)}),this.destroy()},offset:"25%"})};r("#portfolio .site-preview-toggle").each(function(){var t=r(this),a=t.siblings("a");t.on("click",function(e){e.preventDefault(),t.hasClass("mobile-view")?s(a,"desktop"):s(a,"mobile"),t.find("span").toggleClass("current-view"),t.toggleClass("mobile-view")})});r(window).scroll(function(){r("#header-search").hasClass("is-visible")||(300<=r(window).scrollTop()?r("#go-top").fadeIn(400):r("#go-top").fadeOut(400))})}(jQuery);